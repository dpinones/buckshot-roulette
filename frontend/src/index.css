@import "tailwindcss";

@theme {
  /* Surface & backgrounds */
  --color-meadow: #FFF8E7;
  --color-table-pink: #E8B4D8;
  --color-table-border: #C88FBB;
  --color-paper: #FFFDF5;
  --color-paper-shadow: #D4C5A9;

  /* Semantic */
  --color-heart-full: #FF4081;
  --color-heart-empty: #FFCDD2;
  --color-shell-live: #FF1744;
  --color-shell-blank: #90CAF9;
  --color-gold: #FFD700;
  --color-blood: #dc2626;
  --color-alive: #6AAF6A;
  --color-text-dark: #3E2723;
  --color-text-light: #795548;

  /* Agent colors */
  --color-calc: #89CFF0;
  --color-agro: #FF6B8A;
  --color-trap: #77DD77;
  --color-filo: #C3B1E1;
  --color-apre: #FFD580;
}

*, *::before, *::after { box-sizing: border-box; }

body {
  margin: 0;
  background: var(--color-meadow);
  color: var(--color-text-dark);
  font-family: 'Nunito', sans-serif;
  min-height: 100vh;
  -webkit-font-smoothing: antialiased;
}

/* Display font class */
.font-display {
  font-family: 'Fredoka One', cursive;
}

/* Data / monospace font */
.font-data {
  font-family: 'Comic Neue', cursive;
}

/* Paper Mario idle animation */
@keyframes paperIdle {
  0%, 100% { transform: translateY(0px) scaleX(1) scaleY(1); }
  25% { transform: translateY(-8px) scaleX(1.02) scaleY(0.98); }
  50% { transform: translateY(-3px) scaleX(0.98) scaleY(1.02); }
  75% { transform: translateY(-10px) scaleX(1.01) scaleY(0.99); }
}

@keyframes heartPop {
  0%, 100% { transform: scale(1); }
  30% { transform: scale(1.5); }
  60% { transform: scale(0.8); }
}

@keyframes bubbleFloat {
  0%, 100% { transform: translateX(-50%) translateY(0); }
  50% { transform: translateX(-50%) translateY(-10px); }
}

@keyframes confDrop {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(110vh) rotate(720deg); opacity: 0.5; }
}

@keyframes winBounce {
  from { transform: translateY(0); }
  to { transform: translateY(-16px); }
}

@keyframes slideUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes scaleIn {
  from { opacity: 0; transform: scale(0.92); }
  to { opacity: 1; transform: scale(1); }
}

/* ========================================
   Character Stage Position Classes
   ======================================== */
.char-slot {
  position: absolute;
  bottom: -14vh;
  pointer-events: auto;
  transform: translateX(-50%);
  transition:
    left 0.7s cubic-bezier(0.34, 1.56, 0.64, 1),
    height 0.7s cubic-bezier(0.34, 1.56, 0.64, 1),
    bottom 0.7s cubic-bezier(0.34, 1.56, 0.64, 1),
    opacity 0.5s ease,
    filter 0.5s ease;
}

.char-slot img {
  height: 100%;
  width: auto;
  object-fit: contain;
  filter: drop-shadow(6px 8px 4px rgba(0,0,0,0.3));
}

.char-slot:not(.dead-char) img {
  animation: paperIdle 4s ease-in-out infinite;
}

.char-slot:nth-child(1) img { animation-delay: 0s; }
.char-slot:nth-child(2) img { animation-delay: 0.8s; }
.char-slot:nth-child(3) img { animation-delay: 1.6s; }
.char-slot:nth-child(4) img { animation-delay: 2.4s; }
.char-slot:nth-child(5) img { animation-delay: 0.4s; }

.char-slot.pos-center {
  left: 50%;
  height: 52vh;
  bottom: -14vh;
  z-index: 8;
  opacity: 1;
}

.char-slot.pos-left {
  left: 16%;
  height: 40vh;
  bottom: -10vh;
  z-index: 5;
  opacity: 1;
}

.char-slot.pos-right {
  left: 84%;
  height: 40vh;
  bottom: -10vh;
  z-index: 5;
  opacity: 1;
}

.char-slot.pos-off-left {
  left: -15%;
  height: 34vh;
  bottom: -10vh;
  z-index: 4;
  opacity: 0;
  pointer-events: none;
}

.char-slot.pos-off-right {
  left: 115%;
  height: 34vh;
  bottom: -10vh;
  z-index: 4;
  opacity: 0;
  pointer-events: none;
}

.char-slot.pos-hidden {
  left: 50%;
  height: 30vh;
  bottom: -10vh;
  z-index: 3;
  opacity: 0;
  pointer-events: none;
}

.char-slot.dead-char img {
  filter: grayscale(0.8) brightness(0.6) drop-shadow(6px 8px 4px rgba(0,0,0,0.3));
  opacity: 0.4;
  animation: none !important;
}

/* Scrollbar â€” warm theme */
::-webkit-scrollbar { width: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--color-paper-shadow); border-radius: 2px; }
::-webkit-scrollbar-thumb:hover { background: var(--color-text-light); }
